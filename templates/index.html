{% extends 'layout.html' %} {% block body %}
<br>
<div class="container">
<div class="col-md-10 center-block">
   <form name="upload" id="file_upload" method="post" action="/index" enctype="multipart/form-data" accept-charset="utf-8">
      <div class="input-group">
         <input type="text" class="form-control file-upload-text" disabled placeholder="select a file..." />
         <span class="input-group-btn">
         <button type="button" class="btn btn-success file-upload-btn">
         Browse...
         <input type="file" class="file-upload" name="fileup" />
         </button>
         </span>
         
         <input type="submit" value="Submit!" class="btn btn-primary" id="submitbtn">
      </div>
   </form>
</div>
</div>
{% if upload %}
<div class="card" style="background-color: #fffaeb;margin-top: 1%;">
    <div class="content">
        <div class="column-1 box">
           <h1>Uploaded Audio</h1>
           <div class="center" style="margin-top: 8%;">
             <audio controls >
                 <source src="../static/upload/{{upload_audio}}" type="audio/mpeg">
                 
              </audio>
              
           </div>
           <p class="center">File Name = {{upload_audio}}</p>
        </div>
        <div class="column-2 box">
           <h1>Spectrogram Image</h1>
           <div class="center">
              <img src="../static/upload/image.jpg" alt="...">
           </div>
        </div>
        <div class="column-3 box">
           <h1>What is the label?</h1>
           <h2 class="center" style="margin: 14%;">
            {{text}}
           </h2>
        </div>
     </div>
</div>
{% endif %} 
<!-- Optional JavaScript; choose one of the two! -->
<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
   function initializeFileUploads() {
   $('.file-upload').change(function () {
   var file = $(this).val();
   $(this).closest('.input-group').find('.file-upload-text').val(file);
   });
   $('.file-upload-btn').click(function () {
   $(this).find('.file-upload').trigger('click');
   });
   $('.file-upload').click(function (e) {
   e.stopPropagation();
   });
   }
   
   
   // On document load:
   $(function() {
   initializeFileUploads();
   });
</script>
{% endblock %}